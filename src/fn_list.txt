old signature                                           |   new signature
================================================================================================================================

backend.cc:
char *query_load_av()                                   |   std::string query_load_av()

comm.cc:
void add_message(struct object_t *, const char *, int)  |   void add_message(struct object_t *, const std::string)
void add_vmessage(struct object_t *, const char *, ...) |   template <typename... Args> void add_vmessage(struct object_t *, const std::string, Args&& ...)

fliconv.cc:
struct translation *get_translator(const char *)        |   const translation get_translator(const std::string)
char *translate(iconv_t, const char *, int, int *)      |   std::string translate(iconv_t, const std::string)
char *translate_easy(iconv_t, const char *)             |   --- (obsolete)

base/internal/file.cc:
int legal_path(const char*)                             |   int legal_path(const std::string)

base/internal/file.cc:
unsigned int whashstr(const char *)                     |   unsigned long whashstr(const std::string)

base/internal/log.cc:
void debug_message(const char *, ...)                   |   template <typename... Args> void debug_message(const std::string, Args&& ...)
void debug_level_set(const char *)                      |   void debug_level_set(const std::string)
void debug_level_clear(const char *)                    |   void debug_level_clear(const std::string)

base/internal/outbuf.cc:
void outbuf_add(outbuffer_t *, const char *)            |   template <typename... Args> void outbuf_add(outbuffer_t *, const std::string format, Args&& ...args)
void outbuf_addv(outbuffer_t *, const char *, ...)      |   template <typename... Args> void outbuf_add(outbuffer_t *, const std::string format, Args&& ...args)
int outbuf_extend(outbuffer_t *, int)                   |   size_t outbuf_extend(outbuffer_t *, size_t)

base/internal/port.cc:
const char *time_string(time_t)                         |   std::string time_string(time_t)

vm/internal/apply.cc:
inline const char *origin_to_name(const int origin)     |   inline const std::string origin_to_name(const int origin)
svalue_t *safe_apply(const char *, struct object_t *,   |   svalue_t *safe_apply(const std::string, struct object_t *,
        int, int)                                       |            int, int)
svalue_t *apply(const char *, struct object_t *,        |   svalue_t *apply(const std::string, struct object_t *,
        int, int)                                       |            int, int)
int apply_low(const char *, struct object_t *, int)     |   int apply_low(const std::string, struct object_t *, int)

vm/internal/simulate.cc:
void fatal(const char *, ...)                           |   template <typename... Args> void fatal(const std::string, Args&& ...)
void tell_object(object_t *, const char *, int)         |   void tell_object(object_t *, const std::string)
object_t *find_object(const char *)                     |   object_t *find_object(const std::string)
object_t *find_object2(const char *)                    |   object_t *find_object2(const std::string)
object_t *clone_object(const char *, int)               |   object_t *clone_object(const std::string, int)
void error_handler(char *)                              |   void error_handler(std::string)
void shout_string(const char *)                         |   void shout_string(const std::string)

vm/internal/base/apply_cache.cc:
lookup_entry_s apply_cache_lookup(const char *funcname, |   lookup_entry_s apply_cache_lookup(const std::string funcname,
        program_t *prog)                                |           program_t *prog)

vm/internal/base/array.cc:
array_t *explode_string(const char *, int,              |   array_t *explode_string(const std::string, const std::string)
        const char *, int)                              |
void implode_array(funptr_t *, array_t *, svalue_t *,   |   void implode_array(funptr_t *, array_t *, svalue_t *,
        int)                                            |           bool)
char *implode_string(array_t *, const char *, int)      |   std::string implode_string(array_t *, const std::string)

vm/internal/base/buffer.cc:
char *read_buffer(buffer_t *, int, int, int *)          |   std::string *read_buffer(buffer_t *, int, int, int *)

vm/internal/base/interpret.cc:
char *add_slash(const char *const)                      |   std::string add_slash(const std::string)
array_t *call_all_other(array_t *, const char *, int)   |   array_t *call_all_other(array_t *, const std::string, int)
void copy_and_push_string(const char *)                 |   void push_string(const std::string)
void do_trace(const char *, const char *, const char *) |   void do_trace(const std::string, const std::string, const std::string)
void free_string_svalue(svalue_t *)                     |   --- (obsolete)
const char *function_exists(const char *,               |   const std::string function_exists(const std::string,
        object_t *, int)                                |           object_t *, int)
char *get_line_number(char *, const program_t *)        |   std::string get_line_number(std::string, const program_t *)
int is_static(const char *, object_t *)                 |   int is_static(const std::string, object_t *)
void share_and_push_string(const char *)                |   void push_string(const std::string)
void push_malloced_string(const char *)                 |   void push_string(const std::string)
void push_shared_string(const char *)                   |   void push_string(const std::string)
void push_constant_string(const char *)                 |   void push_string(const std::string)

vm/internal/base/mapping.cc:
void add_mapping_pair(mapping_t *, const char *, long)  |   void add_mapping_pair(mapping_t *, const std::string, long)
void add_mapping_object(mapping_t *, const char *,      |   void add_mapping_object(mapping_t *, const std::string,
        object_t *)                                     |            object_t *)
void add_mapping_array(mapping_t *, const char *,       |   void add_mapping_array(mapping_t *, const std::string,
        array_t *)                                      |            array_t *)
void add_mapping_string(mapping_t *, const char *,      |   void add_mapping_string(mapping_t *, const std::string,
        const char *)                                   |            const std::string)
void add_mapping_malloced_string(mapping_t *,           |   void add_mapping_string(mapping_t *, const std::string,
        const char *, char *)                           |            const std::string)
void add_mapping_shared_string(mapping_t *,             |   void add_mapping_string(mapping_t *, const std::string,
        const char *, char *)                           |            const std::string)
svalue_t *find_string_in_mapping(mapping_t *,           |   svalue_t *find_string_in_mapping(mapping_t *,
        const char *)                                   |            const std::string)

vm/internal/base/object.cc:
int save_object(object_t *, const char *, int)          |   int save_object(object_t *, const std::string, int)
int save_object_str(object_t *, int, char *, int)       |   int save_object_str(object_t *, int, std::string, int)
int restore_object(object_t *, const char *, int)       |   int restore_object(object_t *, const std::string, int)
void restore_variable(svalue_t *, char *)               |   void restore_variable(svalue_t *, std::string)

packages/core/add_action.cc:
int parse_command(char *, object_t *)                   |   int parse_command(std::string, object_t *)
object_t *find_living_object(const char *, int)         |   object_t *find_living_object(const std::string, int)
static int hash_living_name(const char *)               |   static int hash_living_name(const std::string)
static int user_parser(char *)                          |   static int user_parser(std::string)
static void set_living_name(object_t *, const char *)   |   static void set_living_name(object_t *, const std::string)

packages/core/call_out.cc:
int find_call_out(object_t *, const char *)             |   int find_call_out(object_t *, const std::string)
int remove_call_out(object_t *, const char *)           |   int remove_call_out(object_t *, const std::string)

packages/core/crc32.cc:
uint32_t compute_crc32(unsigned char *, int)            |   uint32_t compute_crc32(const unsigned char *, const size_t)

packages/core/dns.cc:
int query_addr_by_name(const char *, struct svalue_t *) |   int query_addr_by_name(const std::string, struct svalue_t *)
const char *query_ip_name(struct object_t *)            |   const std::string query_ip_name(struct object_t *)
const char *query_ip_number(struct object_t *)          |   const std::string query_ip_number(struct object_t *)
char *query_host_name(void)                             |   std::string query_host_name(void)

packages/core/dumpstat.cc:
void dumpstat(const char *)                             |   void dumpstat(const std::string)

packages/core/file.cc:
char *read_file(const char *, int, int)                 |   char *read_file(const std::string, int, int)
char *read_bytes(const char *, int, int, int*)          |   char *read_bytes(const std::string, int, int, int*)
int do_rename(const char *, const char *, int)          |   int do_rename(const std::string, const std::string, int)
int remove_file(const char *)                           |   int remove_file(const std::string)
array_t *get_dir(const char *, int)                     |   array_t *get_dir(const std::string, int)
int write_file(const char *, const char *, int)         |   int write_file(const std::string, const std::string, int)
int write_bytes(const char *, int, const char *, int)   |   int write_bytes(const std::string, int, const char *, size_t)
                                                        |   int write_bytes(const std::string, int, const std::string)
int tail(char *)                                        |   int tail(std::string)
int file_size(const char *)                             |   int file_size(const std::string)
int copy_file(const char *, const char *)               |   int copy_file(const std::string, const std::string)
